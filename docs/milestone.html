<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
<style>
  body {
    padding: 100px;
    width: 1000px;
    margin: auto;
    text-align: left;
    font-weight: 300;
    font-family: 'Open Sans', sans-serif;
    color: #121212;
  }
  h1, h2, h3, h4 {
    font-family: 'Source Sans Pro', sans-serif;
  }
</style>
<title>CS 184 Final Project</title>
<meta http-equiv="content-type" content="text/html; charset=utf-8" />
<link href="https://fonts.googleapis.com/css?family=Open+Sans|Source+Sans+Pro" rel="stylesheet">
</head>


<body>

<h1 align="middle">CS 184: Computer Graphics and Imaging, Spring 2019</h1>
<h1 align="middle">VR Environments/Lighting</h1>
<h2 align="middle">Alan Nguyen, Jared Shao, Vincent Tantra</h2>

<h2 align="middle">Abstract</h2>
<p>This project is an exploration of lighting and environment rendering in the mobile VR space - particularly through the lens of a first person point of view. The player walks around in an abandoned town at night only carrying a flashlight. Various lighting topics, such as point and spot lighting, directional light, global illumination, and light maps are especially explored. Technologies used were: Unity, iOS, and Google SDK. </p>

<h2 align="middle">Approach</h2>

<p>Our approach to this project mainly concerned terrain building, lighting implementation, mobile optimization, and extraneous features. First, we researched ways to optimize for the mobile VR space; this included the main focal point: baked lighting. Due to mobile devices' limited computational power, we were forced to implement <a href="https://docs.unity3d.com/Manual/LightMode-Baked.html">Baked Lighting</a> for most of our objects (if not all).</p>

<p>The first step to realizing this project was designing the world in; this involved importing multiple assets and constructing some sort of MVP (minimal viable product) for the terrain. </p>

<p>Next, we constructed multiple objects with dif</p>

<p>After implementing the core features of a VR project: a scene with terrain, objects, and a camera view, it was time to implement extraneous features. The first feature we tackled was interactivity. We wanted the player to immerse themselves in the VR space, so we implemented a variation of <a href="https://www.youtube.com/watch?v=kBTn2pGwZUk">look walk</a>. This simply allowed the player to navigate through the area by looking downwards. To further elaborate on this algorithm, we read the camera view and calculate the player's movement. The view angle is also read and as a result, multiple transforms are calculated on the player's position; this is what makes the player move in the first place! We lastly had to convert these computation to Euler angles (rather than the default Quaternion).</p>
    
<p>We also constructed a toggle on-off flashlight that allowed the player to properly see around the map, as well as the interesting lighting features!</p>

<p></p>


<h2 align="middle">Bugs and Bumps</h2>

<p>Upon implementing this problem, we faced <i>significant</i> roadblocks to our completion. Here are some of the following:</p>

<ol>
    <li><p><b>Compatibility Issues</b>: The latest Unity version (20191.2.f1) is actually incompatible with mobile VR pertaining to iOS and the Google Cardboard SDK. To further elaborate, rendering a VR project on any iOS device will result in an inverted display regardless of orientation. VR projects are displayed strictly as landscape left when ported through Google Cardboard, but the latest Unity version strictly sticks to a landscape right orientation, regardless of user input and scripting configuration.</p>
    
        <p>We had to thus downgrade our Unity version to a more stable 2018 version (20183.14f1) in order to solve this issue. However, we only reached this conclusion after countless hours of surfing through Google, GitHub, and StackOverflow. There weren't many viable solutions nor were there similar problems to begin with, given the state and popularity of mobile VR. </p></li>
    <li><p><b>iOS Development</b>: iOS development is considered to many (including us) a huge hassle; we had to install XCode to simply render our projects on our mobile devices. This also meant that we would have to use a package dependency platform named <a href="https://github.com/CocoaPods/CocoaPods"><b>CocoaPods</b></a>. Thus, we had at least 1-2 more layers of possible bugs we had to worry about. Examples include Unity by default building and running the wrong XCode files (.xcproj instead of .xcworkspace). </p></li>
</ol>

<p>It suffices to say that the Google SDK lacks a lot of support for iOS devices, compared to its Android counterpart. Most of the problems we encountered would have been solved if it we had access to an Android device. Furthermore, our project would have been more "realized" if we were familiar with VR to begin with; we were all beginners and a bit unfamiliar with Unity (especially mobile rendering). We thus had to commit to a week's worth of research and documentation sifting.</p>

<h2 align="middle">Results</h2>

<!-- insert video here -->

<h2 align="middle">Schedule</h2>

<p>To map out our progress, we have the current workplan on a week-to-week basis, starting from this week. This schedule is similar to our project proposal schedule; our team is a bit aligned with the original schedule. </p>

<ol>
    <li>Play around with more of Unity. Construct the main scene and begin implementing global illumination code. Optimistically, be complete with rendering code and be able to successfully port this draft to Google Cardboard.</li>
    <li>Debug and optimize all code drafted from the previous week. Finish up any remaining implementation details, with some specifics including: scene changes, targeted lighting algorithms, performance. Have this draft at the minimum ready for poster session.</li>
    <li>Extend this app to include more functional and enjoyable features, not limited to Unity XR and more interaction with Google Cardboard. Details regarding project extension are contingent to what we've accomplished and how much time is left before the final deadline.</li>
</ol>

<h2 align="middle">Deliverables</h2>


<p>Slides are available <a href="https://docs.google.com/presentation/d/15fAkANoiNmEjRxtkEPtDtuDGPKUDd_kPsqVBxj-IQnQ/edit?usp=sharing">here</a>.</p>

<iframe width="560" height="315" src="https://www.youtube.com/embed/aoFfEPe5dlY" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe>

<!-- <div align="middle">
  <table style="width=100%">
    <tr>
      <td>
        <img src="images/part5/mirror.png" align="middle" width="400px"/>
      </td>
    </tr>
  </table>
</div> -->

</body>
</html>
